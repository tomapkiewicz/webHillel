{% extends 'core/base.html' %}
{% load static %}
{% block title %}Perfil{% endblock %}
{% block content %}
<style>.errorlist{color:red;} label{display:none}
input::-webkit-outer-spin-button,
input::-webkit-inner-spin-button {
    /* display: none; <- Crashes Chrome on hover */
    -webkit-appearance: none;
    margin: 0; /* <-- Apparently some margin are still there even though it's hidden */
}
</style>


<main role="main">
  <div class="card container">
    <div class="row mt-3">
      <div class="col-md-9 mx-auto mb-5">
        <form action="" method="post" enctype="multipart/form-data">{% csrf_token %}
          <div class="row">
            <!-- Previa del avatar
            
            <div class="col-md-2">
            <!--
              {% if request.user.profile.avatar %}
                <img src="{{request.user.profile.avatar.url}}" class="img-fluid">
                <p class="mt-1">Â¿Borrar? <input type="checkbox" id="avatar-clear" name="avatar-clear" /></p>
              {% else %}
                <img src="{% static 'registration/img/no-avatar.jpg' %}" class="img-fluid">
              {% endif %}
               -->
            </div>
             {% if 'ok' in request.GET %}
          <div class="alert alert-success alert-dismissible fade show">
           <button type="button" class="close" data-dismiss="alert">&times;</button>
            <strong>Ã‰xito!</strong> Perfil actualizado correctamente
          </div>
             {% endif %}
            
          {% if 'completar' in request.GET %}
          <div class="alert alert-info alert-dismissible fade show">
           <button type="button" class="close" data-dismiss="alert">&times;</button>
            <strong>No podÃ­a ser tan fÃ¡cil! </strong>CompletÃ¡ tu perfil <b>por Ãºnica vez</b> y volvÃ© a anotarte ğŸš£  
          </div>
             {% endif %}

            <!-- Formulario -->
            <div class="col-md-10">
              <h3>Perfil</h3>
          <!--     <input type="file" name="avatar" class="form-control-file mt-3" id="id_avatar"> !-->
            {% if form.errors %}
            <div class="alert alert-danger alert-dismissible fade show">
             <button type="button" class="close" data-dismiss="alert">&times;</button>
            <strong>Error!</strong> RevisÃ¡ los campos
             {{form.errors}}
          </div> 
            {% endif %}
              <!--{{ form.dni }}
              {{ form.bio }}!-->
              
              {{ form.nombre }}
              {{ form.apellido }}
              {{ form.fechaNacimiento }}  
              <span class="form-text mt-5">Â¿En dÃ³nde vivÃ­s ?</span>         

              {{ form.provincia }}
              {{ form.celular }}
              {{ form.instagram }}
              <span class="form-text mt-5">Â¿Viajaste a Onward? Â¿CuÃ¡ndo?</span>  
              {{ form.onward }}
              <span class="form-text mt-5">Â¿Viajaste a Taglit? Â¿CuÃ¡ndo?</span>  
              {{ form.taglit }}
              <span class="form-text mt-5">Â¿CÃ³mo conociste Hillel?</span>  
              {{ form.comoConociste }}
              <span class="form-text mt-5">Â¿EstÃ¡s estudiando, o te recibiste? Â¿QuÃ© estudias/te y en quÃ© instituciÃ³n?</span>  
              {{ form.estudios }}
              <span class="form-text mt-5">Â¿ParticipÃ¡s/te de algÃºn otro espacio comunitario?</span>  
              {{ form.experienciaComunitaria }}
              <div class="jumbotron">
              <span class="form-text mt-5"><b>Â¡Te invitamos a seguirnos en las redes tocando los links al pie de la pÃ¡gina! ğŸ‰ </b></span>  
             </div>
              {{ form.validado }}
              <input type="email" class="form-control mt-3" value={{request.user.email}} readonly>
              <p class="mt-3">Si querÃ©s editar tu mail cliqueÃ¡ <a href="{% url 'profile_email' %}">AcÃ¡</a>.<br>
              Y si querÃ©s cambiar tu contraseÃ±a cliqueÃ¡ <a href="{% url 'password_change' %}">AcÃ¡</a>.</p>
              <input type="submit" class="btn btn-dark btn-block mt-3" value="Actualizar">
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</main>
{% endblock %}